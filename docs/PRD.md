# Product Requirements Document (PRD)
## 项目：诺曼底登陆 (D-Day Defense)

---

## 1. 背景与目标

开发一款"诺曼底登陆"主题的塔防网页游戏，为年轻人提供简单有趣的休闲游戏体验。玩家通过在黑色画布上布置防御设施，抵御不断来袭的敌军士兵和登陆艇。

## 2. 目标用户

喜欢玩网页休闲小游戏的年轻玩家��追求快节奏、易上手的游戏体验。

## 3. 核心功能

| 功能 | 描述 |
|------|------|
| **放置防御塔** | 在画布网格上点击放置防御塔，自动攻击范围内的敌人 |
| **模式选择** | 游戏开始前选择"经典模式"（10波固定）或"无尽模式"（无限波次） |
| **游戏结算** | 游戏结束时显示：达到等级、击杀数、坚持波次、游戏模式 |
| **暂停/加速** | 三档速度控制：暂停、1x、2x |
| **波次提示** | 显示当前波次进度和波次完成通知 |

## 4. 非目标

以下功能**不在此版本范围内**：

- 用户注册/登录系统
- 排行榜/在线对战
- 单个塔实例升级（采用全局塔类型升级）
- 存档系统（刷新页面重新开始）
- 移动端适配（专注桌面体验）

## 5. 完成标准

项目可验收的标准：

- [x] 画布正确渲染黑色背景和游戏元素（防御塔、敌人、登陆艇）
- [x] 能够放置 6 种不同类型的防御塔（机枪、加农、狙击、激光、电磁、火箭）
- [x] 敌人沿固定路径移动，防御塔可攻击并消灭敌人
- [x] 经典模式包含 10 波敌人，每波约 40 个
- [x] 游戏结束正确显示四项统计数据
- [x] 无 JavaScript 运行时错误
- [x] 支持全屏建筑放置和敌人生成
- [x] 波次完成自动通知并进入下一波
- [x] 全局塔类型升级系统（最高5级）
- [x] Combo连击系统
- [x] 交战系统（塔有HP，敌人可攻击塔）

## 6. 游戏平衡

| 参数 | 值 | 说明 |
|------|-----|------|
| 初始金币 | 350 | 玩家有足够资源初始布局 |
| 初始生命 | 10 | 玩家可承受 10 次防线被突破 |
| 发育时间 | 8 秒 | 第一波敌人出现前的准备时间 |
| 每波敌人 | ~40 个 | 保持战斗密度 |
| 经典模式波次 | 10 波 | 适度的游戏时长 |
| 防御塔类型 | 6 种 | 渐进解锁系统 |
| 敌人类型 | 4 种 | 不同波次出现 |

## 7. 风险与降级方案

| 风险 | 降级方案 |
|------|----------|
| 敌人AI/路径寻找太复杂 | 改为直线移动，不做复杂寻路 |
| 两种模式都来不及做 | 只做经典模式，砍掉无尽模式 |
| 防御塔升级太复杂 | 移除升级功能，只保留放置 |
| 登陆艇动画太难实现 | 用简单几何图形代替，或只做士兵 |

---

**版本**: v1.0
**状态**: ✅ 已完成
**更新日期**: 2026-01-27
